<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Voice Analytics Dashboard - VanMitra</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        .dashboard-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            text-align: center;
        }
        
        .stat-number {
            font-size: 2.5em;
            font-weight: bold;
            margin: 10px 0;
        }
        
        .stat-positive { color: #4CAF50; }
        .stat-negative { color: #f44336; }
        .stat-neutral { color: #ff9800; }
        .stat-total { color: #2196F3; }
        
        .charts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .chart-container {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        .recent-analysis {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            margin: 20px 0;
        }
        
        .analysis-item {
            border-bottom: 1px solid #eee;
            padding: 15px 0;
        }
        
        .analysis-item:last-child {
            border-bottom: none;
        }
        
        .priority-high { border-left: 4px solid #f44336; padding-left: 15px; }
        .priority-medium { border-left: 4px solid #ff9800; padding-left: 15px; }
        .priority-low { border-left: 4px solid #4CAF50; padding-left: 15px; }
        
        .action-buttons {
            margin: 20px 0;
            text-align: center;
        }
        
        .action-btn {
            background: #4CAF50;
            color: white;
            padding: 12px 24px;
            text-decoration: none;
            border-radius: 5px;
            margin: 0 10px;
            display: inline-block;
        }
        
        .action-btn:hover {
            background: #45a049;
        }
        
        .demo-data-notice {
            background: #e3f2fd;
            border: 1px solid #2196F3;
            border-radius: 10px;
            padding: 15px;
            margin: 20px 0;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="dashboard-container">
            <h1>üìä Voice Analytics Dashboard</h1>
            <p>AI-powered insights from tribal community voice feedback</p>
            
            <div class="demo-data-notice">
                <h3>üìã Demo Dashboard</h3>
                <p>This dashboard shows sample analytics based on simulated voice feedback data. In production, this would display real community feedback insights.</p>
            </div>
            
            <!-- Statistics Overview -->
            <div class="stats-grid">
                <div class="stat-card">
                    <h3>Total Voice Notes</h3>
                    <div class="stat-number stat-total">247</div>
                    <p>Processed this month</p>
                </div>
                
                <div class="stat-card">
                    <h3>Positive Feedback</h3>
                    <div class="stat-number stat-positive">89</div>
                    <p>36% of total feedback</p>
                </div>
                
                <div class="stat-card">
                    <h3>Negative Feedback</h3>
                    <div class="stat-number stat-negative">112</div>
                    <p>45% of total feedback</p>
                </div>
                
                <div class="stat-card">
                    <h3>Neutral Feedback</h3>
                    <div class="stat-number stat-neutral">46</div>
                    <p>19% of total feedback</p>
                </div>
            </div>
            
            <!-- Charts -->
            <div class="charts-grid">
                <div class="chart-container">
                    <h3>Sentiment Distribution</h3>
                    <canvas id="sentimentChart"></canvas>
                </div>
                
                <div class="chart-container">
                    <h3>Issue Categories</h3>
                    <canvas id="categoriesChart"></canvas>
                </div>
                
                <div class="chart-container">
                    <h3>Weekly Feedback Trend</h3>
                    <canvas id="trendChart"></canvas>
                </div>
                
                <div class="chart-container">
                    <h3>Priority Levels</h3>
                    <canvas id="priorityChart"></canvas>
                </div>
            </div>
            
            <!-- Recent Analysis -->
            <div class="recent-analysis">
                <h3>üïí Recent Voice Note Analysis</h3>
                
                <div class="analysis-item priority-high">
                    <h4>Forest Rights Concern</h4>
                    <p><strong>Sentiment:</strong> Negative | <strong>Priority:</strong> High</p>
                    <p><em>"‡§π‡§Æ‡§æ‡§∞‡•á ‡§ú‡§Ç‡§ó‡§≤ ‡§Æ‡•á‡§Ç ‡§Ö‡§µ‡•à‡§ß ‡§ï‡§ü‡§æ‡§à ‡§π‡•ã ‡§∞‡§π‡•Ä ‡§π‡•à‡•§ ‡§µ‡§® ‡§µ‡§ø‡§≠‡§æ‡§ó ‡§ï‡•ã ‡§á‡§∏‡§ï‡•Ä ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä ‡§¶‡•á‡§®‡•Ä ‡§ö‡§æ‡§π‡§ø‡§è‡•§"</em></p>
                    <p><strong>Translation:</strong> "Illegal cutting is happening in our forest. Forest department should be informed about this."</p>
                    <p><strong>Keywords:</strong> forest, illegal, cutting, department</p>
                    <p><strong>Recommendation:</strong> Contact forest department and legal aid services</p>
                </div>
                
                <div class="analysis-item priority-medium">
                    <h4>Water Supply Issue</h4>
                    <p><strong>Sentiment:</strong> Negative | <strong>Priority:</strong> Medium</p>
                    <p><em>"‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ‡ßá ‡¶ú‡¶≤ ‡¶∏‡¶∞‡¶¨‡¶∞‡¶æ‡¶π‡ßá‡¶∞ ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶Ü‡¶õ‡ßá‡•§ ‡¶∏‡¶∞‡¶ï‡¶æ‡¶∞‡ßá‡¶∞ ‡¶∏‡¶æ‡¶π‡¶æ‡¶Ø‡ßç‡¶Ø ‡¶ö‡¶æ‡¶á‡•§"</em></p>
                    <p><strong>Translation:</strong> "Our village has water supply problems. We need government assistance."</p>
                    <p><strong>Keywords:</strong> village, water, supply, government, assistance</p>
                    <p><strong>Recommendation:</strong> Alert water supply department and local representatives</p>
                </div>
                
                <div class="analysis-item priority-medium">
                    <h4>Education Facilities</h4>
                    <p><strong>Sentiment:</strong> Neutral | <strong>Priority:</strong> Medium</p>
                    <p><em>"‡≤®‡≤Æ‡≥ç‡≤Æ ‡≤∏‡≤Æ‡≥Å‡≤¶‡≤æ‡≤Ø‡≤ï‡≥ç‡≤ï‡≥Ü ‡≤∂‡≤ø‡≤ï‡≥ç‡≤∑‡≤£ ‡≤∏‡≥å‡≤≤‡≤≠‡≥ç‡≤Ø‡≤ó‡≤≥‡≥Å ‡≤¨‡≥á‡≤ï‡≥Å‡•§ ‡≤Æ‡≤ï‡≥ç‡≤ï‡≤≥‡≤ø‡≤ó‡≥Ü ‡≤∂‡≤æ‡≤≤‡≥Ü ‡≤¶‡≥Ç‡≤∞‡≤¶‡≤≤‡≥ç‡≤≤‡≤ø‡≤¶‡≥Ü‡•§"</em></p>
                    <p><strong>Translation:</strong> "Our community needs educational facilities. The school is far for children."</p>
                    <p><strong>Keywords:</strong> community, education, facilities, children, school</p>
                    <p><strong>Recommendation:</strong> Contact education department and local authorities</p>
                </div>
                
                <div class="analysis-item priority-low">
                    <h4>Healthcare Improvement</h4>
                    <p><strong>Sentiment:</strong> Positive | <strong>Priority:</strong> Low</p>
                    <p><em>"Our community needs better healthcare facilities. The nearest hospital is very far."</em></p>
                    <p><strong>Translation:</strong> "Our community needs better healthcare facilities. The nearest hospital is very far."</p>
                    <p><strong>Keywords:</strong> community, healthcare, facilities, hospital</p>
                    <p><strong>Recommendation:</strong> Reach out to health department and NGOs</p>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="action-buttons">
                <a href="/voice-feedback" class="action-btn">üì§ Upload New Voice Note</a>
                <a href="/" class="action-btn">üè† Back to Home</a>
                <a href="#" class="action-btn" onclick="generateReport()">üìä Generate Report</a>
            </div>
        </div>
    </div>

    <script>
        // Sentiment Distribution Chart
        const sentimentCtx = document.getElementById('sentimentChart').getContext('2d');
        new Chart(sentimentCtx, {
            type: 'doughnut',
            data: {
                labels: ['Positive', 'Negative', 'Neutral'],
                datasets: [{
                    data: [89, 112, 46],
                    backgroundColor: ['#4CAF50', '#f44336', '#ff9800'],
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'bottom'
                    }
                }
            }
        });
        
        // Issue Categories Chart
        const categoriesCtx = document.getElementById('categoriesChart').getContext('2d');
        new Chart(categoriesCtx, {
            type: 'bar',
            data: {
                labels: ['Forest Rights', 'Healthcare', 'Education', 'Water Supply', 'Employment', 'Infrastructure'],
                datasets: [{
                    label: 'Number of Issues',
                    data: [45, 38, 42, 35, 28, 31],
                    backgroundColor: '#2196F3',
                    borderColor: '#1976D2',
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });
        
        // Weekly Trend Chart
        const trendCtx = document.getElementById('trendChart').getContext('2d');
        new Chart(trendCtx, {
            type: 'line',
            data: {
                labels: ['Week 1', 'Week 2', 'Week 3', 'Week 4'],
                datasets: [
                    {
                        label: 'Positive',
                        data: [18, 22, 25, 24],
                        borderColor: '#4CAF50',
                        backgroundColor: 'rgba(76, 175, 80, 0.1)',
                        tension: 0.4
                    },
                    {
                        label: 'Negative',
                        data: [32, 28, 30, 22],
                        borderColor: '#f44336',
                        backgroundColor: 'rgba(244, 67, 54, 0.1)',
                        tension: 0.4
                    },
                    {
                        label: 'Neutral',
                        data: [12, 15, 10, 9],
                        borderColor: '#ff9800',
                        backgroundColor: 'rgba(255, 152, 0, 0.1)',
                        tension: 0.4
                    }
                ]
            },
            options: {
                responsive: true,
                interaction: {
                    intersect: false,
                }
            }
        });
        
        // Priority Levels Chart
        const priorityCtx = document.getElementById('priorityChart').getContext('2d');
        new Chart(priorityCtx, {
            type: 'pie',
            data: {
                labels: ['High Priority', 'Medium Priority', 'Low Priority'],
                datasets: [{
                    data: [67, 125, 55],
                    backgroundColor: ['#f44336', '#ff9800', '#4CAF50'],
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'bottom'
                    }
                }
            }
        });
        
        // Generate Report Function
        function generateReport() {
            alert('üìä Report generation feature will be implemented in the production version. This would generate PDF/Excel reports with detailed analytics.');
        }
    </script>
</body>
</html>